{"version":3,"sources":["webpack:///./templates/cardTemplateFilm.hbs","webpack:///./js/constants/index.js","webpack:///./js/filmDetailsPage.js","webpack:///./js/libraryPage.js","webpack:///./js/searchAndPlaginationHomePage.js","webpack:///./js/navigation.js","webpack:///./js/initialHomePage.js","webpack:///./templates/cardFilm.hbs","webpack:///./js/buttonScrollTop.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","global","inputValue","pageNumber","renderFilms","genres","selectFilm","movieId","refs","detailsPage","document","querySelector","addQueueButton","addWatchedButton","monitorButtonStatusText","filmsFromQueueLS","JSON","parse","localStorage","getItem","filmsFromWatchedLS","find","ar","id","textContent","arrQ","toggleToQueue","filmsQueueLS","setItem","stringify","push","arW","arrQ2","filter","length","arrW","toggleToWatched","filmsWatchedLS","arrW2","yearFilm","el","yearFilmCard","release_date","slice","allString","genresString","genre_ids","item","name","toLowerCase","concat","cardTemplateFilm","markupFilm","innerHTML","insertAdjacentHTML","tableGenreRef","yearRef","buttonLibraryQueue","buttonLibraryWatched","libraryFilmList","createLibraryCardFunc","imgPath","filmTitle","voteAverage","createLi","createElement","classList","add","createLiMarkup","addEventListener","activeDetailsPage","drawQueueFilmList","fragment","createDocumentFragment","filmsQueueLocalStorage","parseLocalStorage","forEach","film","append","backdrop_path","title","vote_average","remove","drawWatchedFilmList","filmsWatchedLocalStorage","searchForm","filmList","errorMessage","paginationBlock","prevButton","nextButton","pageNum","clearFilmList","fetchFilms","requestParams","fetch","then","response","json","results","total_results","createCardFunc","catch","error","console","warn","plaginationNavigation","e","event","preventDefault","target","nodeName","total_pages","fetchPopularMoviesList","currentTarget","elements","query","value","navHomeLink","navMyLibraryLink","sectionHomePage","sectionLibraryPage","sectionDetailsPage","logo","activeHomePage","removeEventListener","itsLibraryFilm","queueFilmListlocalStorage","log","showDetails","sectionFilm","itemFilm","cardFilm","popularUrl","cropeReleaseDate","yearFilmRef","querySelectorAll","year","substr","cardTemplate","markupCard","Number","genresUrl","stack1","program","noop","scrollElement","window","onscroll","documentElement","scrollTop","clientHeight","scrollTo","top","behavior"],"mappings":"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","file":"main.bb30b11ec9a5c3e4e572.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"main__img-wrapper\\\">\\r\\n    <img id=\\\"js-mainImg\\\" class=\\\"main__img\\\"\\r\\n        src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":44},\"end\":{\"line\":4,\"column\":59}}}) : helper)))\n    + \"\\\"\\r\\n        data-source=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"backdrop_path\") || (depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":52},\"end\":{\"line\":5,\"column\":69}}}) : helper)))\n    + \"\\\"\\r\\n        alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":13},\"end\":{\"line\":6,\"column\":31}}}) : helper)))\n    + \"\\\" />\\r\\n</div>\\r\\n<div class=\\\"main__description-wrapper\\\">\\r\\n    <div class=\\\"main__description-title-wrapper\\\">\\r\\n        <h2 class=\\\"main__description-title\\\" id=\\\"js-descriptionTitle\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":69},\"end\":{\"line\":10,\"column\":78}}}) : helper)))\n    + \"\\r\\n        </h2>\\r\\n        <span class=\\\"main__description-title main__description-title--year\\\"\\r\\n            id=\\\"js-descriptionTitle-year\\\"></span>\\r\\n    </div>\\r\\n    <table class=\\\"main__description-table\\\">\\r\\n        <tbody class=\\\"main__description-table--tbody\\\">\\r\\n            <tr class=\\\"main__description-table--tr\\\">\\r\\n                <td class=\\\"main__description-table--td\\\">vote/votes</td>\\r\\n                <td class=\\\"main__description-table--td js-tableVote\\\">\\r\\n                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":20},\"end\":{\"line\":20,\"column\":36}}}) : helper)))\n    + \" / \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":39},\"end\":{\"line\":20,\"column\":53}}}) : helper)))\n    + \"</td>\\r\\n            </tr>\\r\\n            <tr class=\\\"main__description-table--tr\\\">\\r\\n                <td class=\\\"main__description-table--td\\\">popularity</td>\\r\\n                <td class=\\\"main__description-table--td js-tablePopularity\\\">\\r\\n                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":20},\"end\":{\"line\":25,\"column\":34}}}) : helper)))\n    + \"</td>\\r\\n            </tr>\\r\\n            <tr class=\\\"main__description-table--tr\\\">\\r\\n                <td class=\\\"main__description-table--td\\\">original title</td>\\r\\n                <td class=\\\"main__description-table--td js-tableOriginalTitle\\\">\\r\\n                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":20},\"end\":{\"line\":30,\"column\":38}}}) : helper)))\n    + \"</td>\\r\\n            </tr>\\r\\n            <tr class=\\\"main__description-table--tr\\\">\\r\\n                <td class=\\\"main__description-table--td\\\">genre</td>\\r\\n                <td id=\\\"js-table-genre\\\"\\r\\n                    class=\\\"main__description-table--td js-tableGenre\\\"></td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n    <h3 class=\\\"main__description-about\\\">About</h3>\\r\\n    <p id=\\\"js-descriptionAboutInfo\\\" class=\\\"main__description-about--info\\\">\\r\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":41,\"column\":8},\"end\":{\"line\":41,\"column\":20}}}) : helper)))\n    + \"</p>\\r\\n</div>\";\n},\"useData\":true});","export default global = {\r\n  inputValue: '',\r\n  pageNumber: 1,\r\n  renderFilms: [],\r\n  genres: {},\r\n  selectFilm: {},\r\n  movieId: 0,\r\n};\r\n","import global from './constants';\r\nimport cardTemplateFilm from '../templates/cardTemplateFilm.hbs';\r\n\r\nconst refs = {\r\n  detailsPage: document.querySelector('#js-details-page-wrapper'),\r\n  addQueueButton: document.querySelector('#js-addQueueButton'),\r\n  addWatchedButton: document.querySelector('#js-addWatchedButton'),\r\n};\r\n\r\nfunction monitorButtonStatusText() {\r\n  let filmsFromQueueLS = JSON.parse(localStorage.getItem('filmsQueue'));\r\n  let filmsFromWatchedLS = JSON.parse(localStorage.getItem('filmsWatched'));\r\n\r\n  if (filmsFromQueueLS !== null) {\r\n    filmsFromQueueLS.find(ar => ar.id === global.selectFilm.id)\r\n      ? (refs.addQueueButton.textContent = 'Delete from queue')\r\n      : (refs.addQueueButton.textContent = 'Add to queue');\r\n  } else refs.addQueueButton.textContent = 'Add to queue';\r\n\r\n  if (filmsFromWatchedLS !== null) {\r\n    filmsFromWatchedLS.find(ar => ar.id === global.selectFilm.id)\r\n      ? (refs.addWatchedButton.textContent = 'Delete from watched')\r\n      : (refs.addWatchedButton.textContent = 'Add to watched');\r\n  } else refs.addWatchedButton.textContent = 'Add to watched';\r\n}\r\n\r\nlet arrQ = [];\r\n\r\nfunction toggleToQueue() {\r\n  const filmsQueueLS = JSON.parse(localStorage.getItem('filmsQueue'));\r\n  if (filmsQueueLS === null || filmsQueueLS == 0) {\r\n    localStorage.setItem('filmsQueue', JSON.stringify([global.selectFilm]));\r\n    monitorButtonStatusText();\r\n    return;\r\n  }\r\n  if (filmsQueueLS !== null) {\r\n    arrQ.push(...filmsQueueLS);\r\n    if (arrQ.find(arW => arW.id == global.selectFilm.id)) {\r\n      let arrQ2 = arrQ.filter(ar => {\r\n        return ar.id !== global.selectFilm.id;\r\n      });\r\n      localStorage.setItem('filmsQueue', JSON.stringify(arrQ2));\r\n      arrQ.length = 0;\r\n      monitorButtonStatusText();\r\n      return;\r\n    } else {\r\n      arrQ.push(global.selectFilm);\r\n      localStorage.setItem('filmsQueue', JSON.stringify(arrQ));\r\n      monitorButtonStatusText();\r\n      arrQ.length = 0;\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nlet arrW = [];\r\n\r\nfunction toggleToWatched() {\r\n  const filmsWatchedLS = JSON.parse(localStorage.getItem('filmsWatched'));\r\n  if (filmsWatchedLS === null || filmsWatchedLS == 0) {\r\n    localStorage.setItem('filmsWatched', JSON.stringify([global.selectFilm]));\r\n    monitorButtonStatusText();\r\n    return;\r\n  }\r\n  if (filmsWatchedLS !== null) {\r\n    arrW.push(...filmsWatchedLS);\r\n    if (arrW.find(arW => arW.id == global.selectFilm.id)) {\r\n      let arrW2 = arrW.filter(ar => {\r\n        return ar.id !== global.selectFilm.id;\r\n      });\r\n      localStorage.setItem('filmsWatched', JSON.stringify(arrW2));\r\n      arrW.length = 0;\r\n      monitorButtonStatusText();\r\n      return;\r\n    } else {\r\n      arrW.push(global.selectFilm);\r\n      localStorage.setItem('filmsWatched', JSON.stringify(arrW));\r\n      monitorButtonStatusText();\r\n      arrW.length = 0;\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nasync function showDetails(selectFilm) {\r\n  let allString = '';\r\n  let genresString = '';\r\n  let yearFilmCard = '';\r\n\r\n  global.genres.filter(function (el) {\r\n    return global.selectFilm.genre_ids.find(function (item) {\r\n      if (item === el.id) {\r\n        el.name = el.name.toLowerCase();\r\n        allString += ' '.concat(el.name, ',');\r\n        genresString = allString.slice(0, -1);\r\n      }\r\n    });\r\n  });\r\n\r\n  const markupFilm = await cardTemplateFilm(selectFilm);\r\n  refs.detailsPage.innerHTML = '';\r\n  refs.detailsPage.insertAdjacentHTML('afterbegin', markupFilm);\r\n  const tableGenreRef = document.querySelector('#js-table-genre');\r\n  const yearRef = document.querySelector('#js-descriptionTitle-year');\r\n\r\n  function yearFilm(el) {\r\n    yearFilmCard = el.release_date.slice(0, 4);\r\n  }\r\n\r\n  yearFilm(selectFilm);\r\n\r\n  tableGenreRef.textContent = `${genresString}`;\r\n  yearRef.textContent = `(${yearFilmCard})`;\r\n\r\n  monitorButtonStatusText();\r\n}\r\n\r\nexport { showDetails, toggleToQueue, toggleToWatched };\r\n","import { activeDetailsPage } from './navigation';\r\n\r\nlet buttonLibraryQueue = document.querySelector(\r\n  '#js-navigation-library-btn-queue',\r\n);\r\nlet buttonLibraryWatched = document.querySelector(\r\n  '#js-navigation-library-btn-watched',\r\n);\r\nlet libraryFilmList = document.querySelector('#js-library-film-list');\r\n\r\nfunction createLibraryCardFunc(imgPath, filmTitle, movieId, voteAverage) {\r\n  const createLi = document.createElement('li');\r\n  createLi.classList.add('main__film-item');\r\n  const createLiMarkup = `<div class=\"main__film-item-wrapper\">\r\n      <a class=\"main__film-link js-film-link\">\r\n        <img alt=\"${filmTitle}\" src=\"https://image.tmdb.org/t/p/w500/${imgPath}\" class=\"main__film-image js-film-image\">\r\n      </a>\r\n    </div>\r\n  <span class=\"main__library-film-list--title\">${filmTitle}</span>\r\n  <span class=\"main__library-film-list--popularity\">${voteAverage}</span>`;\r\n\r\n  createLi.insertAdjacentHTML('beforeend', createLiMarkup);\r\n  createLi.addEventListener('click', () => activeDetailsPage(movieId, true));\r\n\r\n  return createLi;\r\n}\r\n\r\nfunction drawQueueFilmList() {\r\n  let fragment = document.createDocumentFragment();\r\n  let filmsQueueLocalStorage = localStorage.getItem('filmsQueue');\r\n  let parseLocalStorage = JSON.parse(filmsQueueLocalStorage);\r\n\r\n  if (filmsQueueLocalStorage !== null && parseLocalStorage.length !== 0) {\r\n    parseLocalStorage.forEach(film => {\r\n      fragment.append(\r\n        createLibraryCardFunc(\r\n          film.backdrop_path,\r\n          film.title,\r\n          film.id,\r\n          film.vote_average,\r\n        ),\r\n      );\r\n    });\r\n\r\n    libraryFilmList.innerHTML = '';\r\n    libraryFilmList.append(fragment);\r\n  }\r\n\r\n  if (filmsQueueLocalStorage === null || parseLocalStorage.length === 0) {\r\n    libraryFilmList.innerHTML = '';\r\n    const emptyLibrary =\r\n      '<li class=\"empty\">You do not have to queue movies to watch. Add them.</li>';\r\n    libraryFilmList.insertAdjacentHTML('afterbegin', emptyLibrary);\r\n  }\r\n\r\n  buttonLibraryQueue.classList.add('main__navigation-library-btn-active');\r\n  buttonLibraryWatched.classList.remove('main__navigation-library-btn-active');\r\n}\r\n\r\nfunction drawWatchedFilmList() {\r\n  let fragment = document.createDocumentFragment();\r\n  let filmsWatchedLocalStorage = localStorage.getItem('filmsWatched');\r\n  let parseLocalStorage = JSON.parse(filmsWatchedLocalStorage);\r\n\r\n  if (filmsWatchedLocalStorage !== null && parseLocalStorage.length !== 0) {\r\n    parseLocalStorage.forEach(film => {\r\n      fragment.append(\r\n        createLibraryCardFunc(\r\n          film.backdrop_path,\r\n          film.title,\r\n          film.id,\r\n          film.vote_average,\r\n        ),\r\n      );\r\n    });\r\n    libraryFilmList.innerHTML = '';\r\n    libraryFilmList.append(fragment);\r\n  }\r\n\r\n  if (filmsWatchedLocalStorage === null || parseLocalStorage.length === 0) {\r\n    libraryFilmList.innerHTML = '';\r\n    const emptyLibrary =\r\n      '<li class=\"empty\">You do not have watched movies. Add them.</li>';\r\n    libraryFilmList.insertAdjacentHTML('afterbegin', emptyLibrary);\r\n  }\r\n\r\n  buttonLibraryQueue.classList.remove('main__navigation-library-btn-active');\r\n  buttonLibraryWatched.classList.add('main__navigation-library-btn-active');\r\n}\r\n\r\nexport { drawQueueFilmList, drawWatchedFilmList };\r\n","import cardTemplate from '../templates/cardFilm.hbs';\r\nimport { createCardFunc, fetchPopularMoviesList } from './initialHomePage';\r\nimport global from './constants';\r\n\r\nconst baseUrl = 'https://api.themoviedb.org/3/search/movie';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#js-form'),\r\n  filmList: document.querySelector('#js-film-list'),\r\n  errorMessage: document.querySelector('#js-error'),\r\n  paginationBlock: document.querySelector('#js-pagination-wrapper'),\r\n  prevButton: document.querySelector('#js-prev-button'),\r\n  nextButton: document.querySelector('#js-next-button'),\r\n  pageNum: document.querySelector('#js-page-number'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', searchFilms);\r\nrefs.paginationBlock.addEventListener('click', plaginationNavigation);\r\n\r\nfunction searchFilms(e) {\r\n  e.preventDefault();\r\n  global.inputValue = e.currentTarget.elements.query.value;\r\n  global.pageNumber = 1;\r\n  refs.pageNum.textContent = global.pageNumber;\r\n  fetchFilms(global.inputValue);\r\n}\r\n\r\nfunction clearFilmList() {\r\n  refs.filmList.innerHTML = '';\r\n}\r\n\r\nfunction fetchFilms(inputValue) {\r\n  const key = '0e322ad2a3bf93179a3983749fdc0c73';\r\n  const requestParams = `?api_key=${key}&query=${inputValue}&page=${global.pageNumber}`;\r\n  fetch(baseUrl + requestParams)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      global.renderFilms = data.results;\r\n      if (global.renderFilms.total_results === 0) {\r\n        document.querySelector('#js-error').classList.remove('visually-hidden');\r\n      } else {\r\n        document.querySelector('#js-error').classList.add('visually-hidden');\r\n        clearFilmList();\r\n        createCardFunc(global.renderFilms);\r\n      }\r\n      if (global.pageNumber <= 1) {\r\n        refs.prevButton.classList.add('visually-hidden');\r\n      } else {\r\n        refs.prevButton.classList.remove('visually-hidden');\r\n      }\r\n      return global.renderFilms;\r\n    })\r\n    .catch(error => {\r\n      refs.error.classList.remove('visually-hidden');\r\n      console.warn(error);\r\n    });\r\n}\r\n\r\nexport function plaginationNavigation(e) {\r\n  event.preventDefault();\r\n  if (event.target.nodeName == 'BUTTON') {\r\n    if (event.target.name == 'Prev' && global.pageNumber !== 1) {\r\n      global.pageNumber -= 1;\r\n    } else if (\r\n      event.target.name == 'Next' &&\r\n      global.pageNumber !== global.renderFilms.total_pages\r\n    ) {\r\n      global.pageNumber += 1;\r\n    }\r\n    refs.pageNum.textContent = global.pageNumber;\r\n\r\n    if (global.inputValue == '') {\r\n      fetchPopularMoviesList(global.inputValue);\r\n    } else {\r\n      fetchFilms(global.inputValue);\r\n    }\r\n  }\r\n}\r\n\r\nexport { clearFilmList };\r\n","import global from './constants';\r\nimport { showDetails, toggleToQueue, toggleToWatched } from './filmDetailsPage';\r\nimport { drawQueueFilmList, drawWatchedFilmList } from './libraryPage';\r\nimport { plaginationNavigation } from './searchAndPlaginationHomePage';\r\nimport { fetchPopularMoviesList } from './initialHomePage';\r\n\r\nconst refs = {\r\n  navHomeLink: document.querySelector('#js-navHomeLink'),\r\n  navMyLibraryLink: document.querySelector('#js-navMyLibraryLink'),\r\n  sectionHomePage: document.querySelector('#js-home-page'),\r\n  sectionLibraryPage: document.querySelector('#js-library-page'),\r\n  sectionDetailsPage: document.querySelector('#js-details-page'),\r\n  buttonLibraryQueue: document.querySelector(\r\n    '#js-navigation-library-btn-queue',\r\n  ),\r\n  buttonLibraryWatched: document.querySelector(\r\n    '#js-navigation-library-btn-watched',\r\n  ),\r\n  addQueueButton: document.querySelector('#js-addQueueButton'),\r\n  addWatchedButton: document.querySelector('#js-addWatchedButton'),\r\n  prevButton: document.querySelector('#js-prev-button'),\r\n  nextButton: document.querySelector('#js-next-button'),\r\n  logo: document.querySelector('#js-logo'),\r\n};\r\n\r\nrefs.sectionLibraryPage.classList.add('visually-hidden');\r\nrefs.sectionDetailsPage.classList.add('visually-hidden');\r\nrefs.navHomeLink.addEventListener('click', activeHomePage);\r\nrefs.navMyLibraryLink.addEventListener('click', activeLibraryPage);\r\nrefs.logo.addEventListener('click', activeHomePage);\r\n\r\nfunction activeHomePage() {\r\n  refs.sectionHomePage.classList.remove('visually-hidden');\r\n  refs.sectionLibraryPage.classList.add('visually-hidden');\r\n  refs.sectionDetailsPage.classList.add('visually-hidden');\r\n  refs.addQueueButton.removeEventListener('click', toggleToQueue); // Участник 4\r\n  refs.addWatchedButton.removeEventListener('click', toggleToWatched);\r\n  refs.buttonLibraryQueue.removeEventListener('click', drawQueueFilmList); // Участник 5\r\n  refs.buttonLibraryWatched.removeEventListener('click', drawWatchedFilmList);\r\n}\r\n\r\nfunction activeLibraryPage() {\r\n  refs.sectionLibraryPage.classList.remove('visually-hidden');\r\n  refs.sectionHomePage.classList.add('visually-hidden');\r\n  refs.sectionDetailsPage.classList.add('visually-hidden');\r\n  drawQueueFilmList();\r\n  refs.buttonLibraryQueue.classList.add('main__navigation-library-btn-active'); // Участник 5\r\n  refs.buttonLibraryQueue.addEventListener('click', drawQueueFilmList); // Участник 5\r\n  refs.buttonLibraryWatched.addEventListener('click', drawWatchedFilmList);\r\n  refs.addQueueButton.removeEventListener('click', toggleToQueue); // Участник 4\r\n  refs.addWatchedButton.removeEventListener('click', toggleToWatched);\r\n  refs.prevButton.removeEventListener('click', plaginationNavigation); // Участник 2\r\n  refs.nextButton.removeEventListener('click', plaginationNavigation);\r\n}\r\n\r\nfunction activeDetailsPage(movieId, itsLibraryFilm) {\r\n  refs.sectionDetailsPage.classList.remove('visually-hidden');\r\n  refs.sectionHomePage.classList.add('visually-hidden');\r\n  refs.sectionLibraryPage.classList.add('visually-hidden');\r\n  if (itsLibraryFilm) {\r\n    let queueFilmListlocalStorage = [\r\n      ...JSON.parse(localStorage.getItem('filmsQueue')),\r\n      ...JSON.parse(localStorage.getItem('filmsWatched')),\r\n    ];\r\n    global.selectFilm = queueFilmListlocalStorage.find(el => el.id === movieId);\r\n    console.log(\r\n      'global.selectFilm activeDetailsPage in Library',\r\n      global.selectFilm,\r\n    );\r\n  }\r\n  global.selectFilm = global.renderFilms.find(el => el.id === movieId); // Участник 1\r\n  showDetails(global.selectFilm);\r\n  refs.addQueueButton.addEventListener('click', toggleToQueue); // Участник 4\r\n  refs.addWatchedButton.addEventListener('click', toggleToWatched);\r\n}\r\n\r\nrefs.buttonLibraryQueue.removeEventListener('click', drawQueueFilmList); // Участник 5\r\nrefs.buttonLibraryWatched.removeEventListener('click', drawWatchedFilmList);\r\nrefs.prevButton.removeEventListener('click', plaginationNavigation); // Участник 2\r\nrefs.nextButton.removeEventListener('click', plaginationNavigation);\r\n\r\nexport { activeDetailsPage };\r\n","'use strict';\r\n\r\nimport cardTemplate from '../templates/cardFilm.hbs';\r\nimport { activeDetailsPage } from './navigation';\r\nimport global from './constants';\r\nimport {\r\n  plaginationNavigation,\r\n  clearFilmList,\r\n} from './searchAndPlaginationHomePage';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#js-form'),\r\n  sectionFilm: document.querySelector('#js-film-list'),\r\n  itemFilm: document.querySelector('#js-film-item'),\r\n  error: document.querySelector('#js-error'),\r\n  cardFilm: document.querySelector('#js-film-card'),\r\n  prevButton: document.querySelector('#js-prev-button'),\r\n  nextButton: document.querySelector('#js-next-button'),\r\n  paginationBlock: document.querySelector('#js-pagination-wrapper'),\r\n  sectionHomePage: document.querySelector('#js-home-page'),\r\n  sectionLibraryPage: document.querySelector('#js-library-page'),\r\n  sectionDetailsPage: document.querySelector('#js-details-page'),\r\n};\r\n\r\nrefs.paginationBlock.addEventListener('click', plaginationNavigation);\r\n\r\nconst popularUrl = 'https://api.themoviedb.org/3/movie/popular';\r\nconst genresUrl = 'https://api.themoviedb.org/3/genre/movie/list';\r\n\r\nconst key = '0e322ad2a3bf93179a3983749fdc0c73';\r\nconst languageEn = 'en-US';\r\n\r\nasync function createCardFunc(results) {\r\n  const markupCard = await cardTemplate(results);\r\n  refs.sectionFilm.insertAdjacentHTML('beforeend', markupCard);\r\n\r\n  function cropeReleaseDate() {\r\n    const yearFilmRef = document.querySelectorAll('.main__film-title--year'),\r\n      size = 5,\r\n      endCharacter = ')';\r\n    yearFilmRef.forEach(el => {\r\n      let year = el.innerHTML;\r\n\r\n      if (el.innerHTML.length > size) {\r\n        year = year.substr(0, size);\r\n        el.innerHTML = year + endCharacter;\r\n      }\r\n    });\r\n  }\r\n\r\n  cropeReleaseDate();\r\n\r\n  refs.sectionFilm.addEventListener('click', event => {\r\n    if (event.target.nodeName === 'A') {\r\n      global.movieId = event.target.id;\r\n      global.movieId = Number(global.movieId);\r\n      return activeDetailsPage(global.movieId, false);\r\n    }\r\n    return;\r\n  });\r\n}\r\n\r\nasync function fetchPopularMoviesList() {\r\n  const requestParams = `?api_key=${key}&language=${languageEn}&page=${global.pageNumber}`;\r\n  try {\r\n    let response = await fetch(popularUrl + requestParams);\r\n    let data = await response.json();\r\n    let results = await data.results;\r\n    if (results.length > 1) {\r\n      clearFilmList();\r\n    }\r\n    createCardFunc(results);\r\n    global.renderFilms = results;\r\n    if (global.pageNumber <= 1) {\r\n      refs.prevButton.classList.add('visually-hidden');\r\n    } else {\r\n      refs.prevButton.classList.remove('visually-hidden');\r\n    }\r\n    return global.renderFilms;\r\n  } catch (error) {\r\n    refs.error.classList.remove('visually-hidden');\r\n    return console.warn(error);\r\n  }\r\n}\r\n\r\nfunction fetchGenres() {\r\n  const requestParams = `?api_key=${key}&language=${languageEn}`;\r\n  fetch(genresUrl + requestParams)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      global.genres = data.genres;\r\n      return global.genres;\r\n    })\r\n    .catch(error => {\r\n      refs.error.classList.remove('visually-hidden');\r\n      console.warn(error);\r\n    });\r\n}\r\n\r\nfetchPopularMoviesList();\r\nfetchGenres();\r\n\r\nexport { createCardFunc, fetchPopularMoviesList, fetchGenres };\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li id=\\\"js-film-item\\\" class=\\\"main__film-item js-film-item\\\">\\r\\n    <div class=\\\"main__film-item-wrapper js-film-item-wrapper\\\">\\r\\n        <a id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":15},\"end\":{\"line\":3,\"column\":21}}}) : helper)))\n    + \"\\\" class=\\\"main__film-link js-film-link\\\">\\r\\n            <img src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"backdrop_path\") || (depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":53},\"end\":{\"line\":4,\"column\":70}}}) : helper)))\n    + \"\\\"\\r\\n                data-source=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":60},\"end\":{\"line\":5,\"column\":75}}}) : helper)))\n    + \"\\\"\\r\\n                alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":21},\"end\":{\"line\":6,\"column\":39}}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"main__film-image js-film-image\\\" />\\r\\n        </a>\\r\\n    </div>\\r\\n    <div class=\\\"main__film-title-wrapper\\\">\\r\\n        <h3 class=\\\"main__film-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":37},\"end\":{\"line\":11,\"column\":46}}}) : helper)))\n    + \"</h3>\\r\\n        <span class=\\\"main__film-title main__film-title--year\\\"\\r\\n            id=\\\"js-filmTitle-year\\\">(\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":36},\"end\":{\"line\":13,\"column\":52}}}) : helper)))\n    + \")</span>\\r\\n        <p class=\\\"stats-item visually-hidden\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":46},\"end\":{\"line\":14,\"column\":52}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n</li>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":16,\"column\":14}}})) != null ? stack1 : \"\");\n},\"useData\":true});","let scrollElement = document.querySelector('#footer__button');\r\n\r\nwindow.onscroll = function () {\r\n  if (\r\n    document.documentElement.scrollTop > document.documentElement.clientHeight\r\n  ) {\r\n    scrollElement.classList.remove('is-hidden');\r\n  } else {\r\n    scrollElement.classList.add('is-hidden');\r\n  }\r\n};\r\n\r\nscrollElement.addEventListener('click', goToUp);\r\n\r\nfunction goToUp() {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n"],"sourceRoot":""}