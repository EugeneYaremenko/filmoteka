(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+z4q":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var r,l=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="main__img-wrapper">\r\n    <img id="js-mainImg" class="main__img"\r\n        src="https://image.tmdb.org/t/p/w500'+c(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:o)===s?r.call(l,{name:"poster_path",hash:{},data:i,loc:{start:{line:4,column:44},end:{line:4,column:59}}}):r)+'"\r\n        data-source="https://image.tmdb.org/t/p/w500'+c(typeof(r=null!=(r=u(n,"backdrop_path")||(null!=t?u(t,"backdrop_path"):t))?r:o)===s?r.call(l,{name:"backdrop_path",hash:{},data:i,loc:{start:{line:5,column:52},end:{line:5,column:69}}}):r)+'"\r\n        alt="'+c(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:o)===s?r.call(l,{name:"original_title",hash:{},data:i,loc:{start:{line:6,column:13},end:{line:6,column:31}}}):r)+'" />\r\n</div>\r\n<div class="main__description-wrapper">\r\n    <div class="main__description-title-wrapper">\r\n        <h2 class="main__description-title" id="js-descriptionTitle">'+c(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:o)===s?r.call(l,{name:"title",hash:{},data:i,loc:{start:{line:10,column:69},end:{line:10,column:78}}}):r)+'\r\n        </h2>\r\n        <span class="main__description-title main__description-title--year"\r\n            id="js-descriptionTitle-year"></span>\r\n    </div>\r\n    <table class="main__description-table">\r\n        <tbody class="main__description-table--tbody">\r\n            <tr class="main__description-table--tr">\r\n                <td class="main__description-table--td">vote/votes</td>\r\n                <td class="main__description-table--td js-tableVote">\r\n                    '+c(typeof(r=null!=(r=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?r:o)===s?r.call(l,{name:"vote_average",hash:{},data:i,loc:{start:{line:20,column:20},end:{line:20,column:36}}}):r)+" / "+c(typeof(r=null!=(r=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?r:o)===s?r.call(l,{name:"vote_count",hash:{},data:i,loc:{start:{line:20,column:39},end:{line:20,column:53}}}):r)+'</td>\r\n            </tr>\r\n            <tr class="main__description-table--tr">\r\n                <td class="main__description-table--td">popularity</td>\r\n                <td class="main__description-table--td js-tablePopularity">\r\n                    '+c(typeof(r=null!=(r=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?r:o)===s?r.call(l,{name:"popularity",hash:{},data:i,loc:{start:{line:25,column:20},end:{line:25,column:34}}}):r)+'</td>\r\n            </tr>\r\n            <tr class="main__description-table--tr">\r\n                <td class="main__description-table--td">original title</td>\r\n                <td class="main__description-table--td js-tableOriginalTitle">\r\n                    '+c(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:o)===s?r.call(l,{name:"original_title",hash:{},data:i,loc:{start:{line:30,column:20},end:{line:30,column:38}}}):r)+'</td>\r\n            </tr>\r\n            <tr class="main__description-table--tr">\r\n                <td class="main__description-table--td">genre</td>\r\n                <td id="js-table-genre"\r\n                    class="main__description-table--td js-tableGenre"></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <h3 class="main__description-about">About</h3>\r\n    <p id="js-descriptionAboutInfo" class="main__description-about--info">\r\n        '+c(typeof(r=null!=(r=u(n,"overview")||(null!=t?u(t,"overview"):t))?r:o)===s?r.call(l,{name:"overview",hash:{},data:i,loc:{start:{line:41,column:8},end:{line:41,column:20}}}):r)+"</p>\r\n</div>"},useData:!0})},"0HMw":function(e,t,n){},"1S6k":function(e,t,n){"use strict";(function(e){t.a={inputValue:"",pageNumber:1,renderFilms:[],genres:{},selectFilm:{},movieId:0}}).call(this,n("pCvA"))},QfWi:function(e,t,n){"use strict";n.r(t);n("RtS0"),n("fp7Y"),n("JBxO"),n("FdtR"),n("3dw1"),n("wcNg");var a=n("cORA"),i=n.n(a),r=(n("hi3g"),n("IlJM"),n("1S6k")),l=(n("lYjL"),n("WB5j"),n("D/wG"),n("+z4q")),o=n.n(l);function s(e,t,n,a,i,r,l){try{var o=e[r](l),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(a,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function l(e){s(r,a,i,l,o,"next",e)}function o(e){s(r,a,i,l,o,"throw",e)}l(void 0)}))}}var u={detailsPage:document.querySelector("#js-details-page-wrapper"),addQueueButton:document.querySelector("#js-addQueueButton"),addWatchedButton:document.querySelector("#js-addWatchedButton")};function d(){var e=JSON.parse(localStorage.getItem("filmsQueue")),t=JSON.parse(localStorage.getItem("filmsWatched"));null!==e&&e.find((function(e){return e.id===r.a.selectFilm.id}))?u.addQueueButton.textContent="Delete from queue":u.addQueueButton.textContent="Add to queue",null!==t&&t.find((function(e){return e.id===r.a.selectFilm.id}))?u.addWatchedButton.textContent="Delete from watched":u.addWatchedButton.textContent="Add to watched"}var m=[];function p(){var e=JSON.parse(localStorage.getItem("filmsQueue"));if(null===e||0==e)return localStorage.setItem("filmsQueue",JSON.stringify([r.a.selectFilm])),void d();if(null!==e){if(m.push.apply(m,e),m.find((function(e){return e.id==r.a.selectFilm.id}))){var t=m.filter((function(e){return e.id!==r.a.selectFilm.id}));return localStorage.setItem("filmsQueue",JSON.stringify(t)),m.length=0,void d()}return m.push(r.a.selectFilm),localStorage.setItem("filmsQueue",JSON.stringify(m)),d(),void(m.length=0)}}var v=[];function f(){var e=JSON.parse(localStorage.getItem("filmsWatched"));if(null===e||0==e)return localStorage.setItem("filmsWatched",JSON.stringify([r.a.selectFilm])),void d();if(null!==e){if(v.push.apply(v,e),v.find((function(e){return e.id==r.a.selectFilm.id}))){var t=v.filter((function(e){return e.id!==r.a.selectFilm.id}));return localStorage.setItem("filmsWatched",JSON.stringify(t)),v.length=0,void d()}return v.push(r.a.selectFilm),localStorage.setItem("filmsWatched",JSON.stringify(v)),d(),void(v.length=0)}}function h(){return(h=c(regeneratorRuntime.mark((function e(t){var n,a,i,l,s,c,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(e){i=e.release_date.slice(0,4)},n="",a="",i="",r.a.genres.filter((function(e){return r.a.selectFilm.genre_ids.find((function(t){t===e.id&&(e.name=e.name.toLowerCase(),n+=" ".concat(e.name,","),a=n.slice(0,-1))}))})),e.next=7,o()(t);case 7:l=e.sent,u.detailsPage.innerHTML="",u.detailsPage.insertAdjacentHTML("afterbegin",l),s=document.querySelector("#js-table-genre"),c=document.querySelector("#js-descriptionTitle-year"),m(t),s.textContent=""+a,c.textContent="("+i+")",d();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=document.querySelector("#js-navigation-library-btn-queue"),y=document.querySelector("#js-navigation-library-btn-watched"),b=document.querySelector("#js-library-film-list");function _(e,t,n,a){var i=document.createElement("li");i.classList.add("main__film-item");var r='<div class="main__film-item-wrapper">\n      <a class="main__film-link js-film-link">\n        <img alt="'+t+'" src="https://image.tmdb.org/t/p/w500/'+e+'" class="main__film-image js-film-image">\n      </a>\n    </div>\n  <span class="main__library-film-list--title">'+t+'</span>\n  <span class="main__library-film-list--popularity">'+a+"</span>";return i.insertAdjacentHTML("beforeend",r),i.addEventListener("click",(function(){return x(n,!0)})),i}function L(){var e=document.createDocumentFragment(),t=localStorage.getItem("filmsQueue"),n=JSON.parse(t);if(null!==t&&0!==n.length&&(n.forEach((function(t){e.append(_(t.backdrop_path,t.title,t.id,t.vote_average))})),b.innerHTML="",b.append(e)),null===t||0===n.length){b.innerHTML="";b.insertAdjacentHTML("afterbegin",'<li class="empty">You do not have to queue movies to watch. Add them.</li>')}g.classList.add("main__navigation-library-btn-active"),y.classList.remove("main__navigation-library-btn-active")}function S(){var e=document.createDocumentFragment(),t=localStorage.getItem("filmsWatched"),n=JSON.parse(t);if(null!==t&&0!==n.length&&(n.forEach((function(t){e.append(_(t.backdrop_path,t.title,t.id,t.vote_average))})),b.innerHTML="",b.append(e)),null===t||0===n.length){b.innerHTML="";b.insertAdjacentHTML("afterbegin",'<li class="empty">You do not have watched movies. Add them.</li>')}g.classList.remove("main__navigation-library-btn-active"),y.classList.add("main__navigation-library-btn-active")}var j={searchForm:document.querySelector("#js-form"),filmList:document.querySelector("#js-film-list"),errorMessage:document.querySelector("#js-error"),paginationBlock:document.querySelector("#js-pagination-wrapper"),prevButton:document.querySelector("#js-prev-button"),nextButton:document.querySelector("#js-next-button"),pageNum:document.querySelector("#js-page-number")};function k(){j.filmList.innerHTML=""}function w(e){var t="?api_key=0e322ad2a3bf93179a3983749fdc0c73&query="+e+"&page="+r.a.pageNumber;fetch("https://api.themoviedb.org/3/search/movie"+t).then((function(e){return e.json()})).then((function(e){return r.a.renderFilms=e.results,0===r.a.renderFilms.total_results?document.querySelector("#js-error").classList.remove("visually-hidden"):(document.querySelector("#js-error").classList.add("visually-hidden"),k(),O(r.a.renderFilms)),r.a.pageNumber<=1?j.prevButton.classList.add("visually-hidden"):j.prevButton.classList.remove("visually-hidden"),r.a.renderFilms})).catch((function(e){j.error.classList.remove("visually-hidden"),console.warn(e)}))}function q(e){event.preventDefault(),"BUTTON"==event.target.nodeName&&("Prev"==event.target.name&&1!==r.a.pageNumber?r.a.pageNumber-=1:"Next"==event.target.name&&r.a.pageNumber!==r.a.renderFilms.total_pages&&(r.a.pageNumber+=1),j.pageNum.textContent=r.a.pageNumber,""==r.a.inputValue?M(r.a.inputValue):w(r.a.inputValue))}j.searchForm.addEventListener("submit",(function(e){e.preventDefault(),r.a.inputValue=e.currentTarget.elements.query.value,r.a.pageNumber=1,j.pageNum.textContent=r.a.pageNumber,w(r.a.inputValue)})),j.paginationBlock.addEventListener("click",q);var B={navHomeLink:document.querySelector("#js-navHomeLink"),navMyLibraryLink:document.querySelector("#js-navMyLibraryLink"),sectionHomePage:document.querySelector("#js-home-page"),sectionLibraryPage:document.querySelector("#js-library-page"),sectionDetailsPage:document.querySelector("#js-details-page"),buttonLibraryQueue:document.querySelector("#js-navigation-library-btn-queue"),buttonLibraryWatched:document.querySelector("#js-navigation-library-btn-watched"),addQueueButton:document.querySelector("#js-addQueueButton"),addWatchedButton:document.querySelector("#js-addWatchedButton"),prevButton:document.querySelector("#js-prev-button"),nextButton:document.querySelector("#js-next-button"),logo:document.querySelector("#js-logo")};function F(){B.sectionHomePage.classList.remove("visually-hidden"),B.sectionLibraryPage.classList.add("visually-hidden"),B.sectionDetailsPage.classList.add("visually-hidden"),B.addQueueButton.removeEventListener("click",p),B.addWatchedButton.removeEventListener("click",f),B.buttonLibraryQueue.removeEventListener("click",L),B.buttonLibraryWatched.removeEventListener("click",S)}function x(e,t){if(B.sectionDetailsPage.classList.remove("visually-hidden"),B.sectionHomePage.classList.add("visually-hidden"),B.sectionLibraryPage.classList.add("visually-hidden"),t){var n=[].concat(JSON.parse(localStorage.getItem("filmsQueue")),JSON.parse(localStorage.getItem("filmsWatched")));r.a.selectFilm=n.find((function(t){return t.id===e})),console.log("global.selectFilm activeDetailsPage in Library",r.a.selectFilm)}r.a.selectFilm=r.a.renderFilms.find((function(t){return t.id===e})),function(e){h.apply(this,arguments)}(r.a.selectFilm),B.addQueueButton.addEventListener("click",p),B.addWatchedButton.addEventListener("click",f)}function N(e,t,n,a,i,r,l){try{var o=e[r](l),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(a,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function l(e){N(r,a,i,l,o,"next",e)}function o(e){N(r,a,i,l,o,"throw",e)}l(void 0)}))}}B.sectionLibraryPage.classList.add("visually-hidden"),B.sectionDetailsPage.classList.add("visually-hidden"),B.navHomeLink.addEventListener("click",F),B.navMyLibraryLink.addEventListener("click",(function(){B.sectionLibraryPage.classList.remove("visually-hidden"),B.sectionHomePage.classList.add("visually-hidden"),B.sectionDetailsPage.classList.add("visually-hidden"),L(),B.buttonLibraryQueue.classList.add("main__navigation-library-btn-active"),B.buttonLibraryQueue.addEventListener("click",L),B.buttonLibraryWatched.addEventListener("click",S),B.addQueueButton.removeEventListener("click",p),B.addWatchedButton.removeEventListener("click",f),B.prevButton.removeEventListener("click",q),B.nextButton.removeEventListener("click",q)})),B.logo.addEventListener("click",F),B.buttonLibraryQueue.removeEventListener("click",L),B.buttonLibraryWatched.removeEventListener("click",S),B.prevButton.removeEventListener("click",q),B.nextButton.removeEventListener("click",q);var P={searchForm:document.querySelector("#js-form"),sectionFilm:document.querySelector("#js-film-list"),itemFilm:document.querySelector("#js-film-item"),error:document.querySelector("#js-error"),cardFilm:document.querySelector("#js-film-card"),prevButton:document.querySelector("#js-prev-button"),nextButton:document.querySelector("#js-next-button"),paginationBlock:document.querySelector("#js-pagination-wrapper"),sectionHomePage:document.querySelector("#js-home-page"),sectionLibraryPage:document.querySelector("#js-library-page"),sectionDetailsPage:document.querySelector("#js-details-page")};P.paginationBlock.addEventListener("click",q);var H="https://api.themoviedb.org/3/movie/popular";function O(e){return T.apply(this,arguments)}function T(){return(T=E(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=document.querySelectorAll(".main__film-title--year");e.forEach((function(e){var t=e.innerHTML;e.innerHTML.length>5&&(t=t.substr(0,5),e.innerHTML=t+")")}))},e.next=3,i()(t);case 3:n=e.sent,P.sectionFilm.insertAdjacentHTML("beforeend",n),a(),P.sectionFilm.addEventListener("click",(function(e){if("A"===e.target.nodeName)return r.a.movieId=e.target.id,r.a.movieId=Number(r.a.movieId),x(r.a.movieId,!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return Q.apply(this,arguments)}function Q(){return(Q=E(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="?api_key=0e322ad2a3bf93179a3983749fdc0c73&language=en-US&page="+r.a.pageNumber,e.prev=1,e.next=4,fetch(H+t);case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,e.next=10,a.results;case 10:return(i=e.sent).length>1&&k(),O(i),r.a.renderFilms=i,r.a.pageNumber<=1?P.prevButton.classList.add("visually-hidden"):P.prevButton.classList.remove("visually-hidden"),e.abrupt("return",r.a.renderFilms);case 18:return e.prev=18,e.t0=e.catch(1),P.error.classList.remove("visually-hidden"),e.abrupt("return",console.warn(e.t0));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}M(),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=0e322ad2a3bf93179a3983749fdc0c73&language=en-US").then((function(e){return e.json()})).then((function(e){return r.a.genres=e.genres,r.a.genres})).catch((function(e){P.error.classList.remove("visually-hidden"),console.warn(e)}));n("dr/f"),n("0HMw")},cORA:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,i){var r,l=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li id="js-film-item" class="main__film-item js-film-item">\r\n    <div class="main__film-item-wrapper js-film-item-wrapper">\r\n        <a id="'+c(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:o)===s?r.call(l,{name:"id",hash:{},data:i,loc:{start:{line:3,column:15},end:{line:3,column:21}}}):r)+'" class="main__film-link js-film-link">\r\n            <img src="https://image.tmdb.org/t/p/w500'+c(typeof(r=null!=(r=u(n,"backdrop_path")||(null!=t?u(t,"backdrop_path"):t))?r:o)===s?r.call(l,{name:"backdrop_path",hash:{},data:i,loc:{start:{line:4,column:53},end:{line:4,column:70}}}):r)+'"\r\n                data-source="https://image.tmdb.org/t/p/w500'+c(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:o)===s?r.call(l,{name:"poster_path",hash:{},data:i,loc:{start:{line:5,column:60},end:{line:5,column:75}}}):r)+'"\r\n                alt="'+c(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:o)===s?r.call(l,{name:"original_title",hash:{},data:i,loc:{start:{line:6,column:21},end:{line:6,column:39}}}):r)+'"\r\n                class="main__film-image js-film-image" />\r\n        </a>\r\n    </div>\r\n    <div class="main__film-title-wrapper">\r\n        <h3 class="main__film-title">'+c(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:o)===s?r.call(l,{name:"title",hash:{},data:i,loc:{start:{line:11,column:37},end:{line:11,column:46}}}):r)+'</h3>\r\n        <span class="main__film-title main__film-title--year"\r\n            id="js-filmTitle-year">('+c(typeof(r=null!=(r=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?r:o)===s?r.call(l,{name:"release_date",hash:{},data:i,loc:{start:{line:13,column:36},end:{line:13,column:52}}}):r)+')</span>\r\n        <p class="stats-item visually-hidden">'+c(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:o)===s?r.call(l,{name:"id",hash:{},data:i,loc:{start:{line:14,column:46},end:{line:14,column:52}}}):r)+"</p>\r\n    </div>\r\n</li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:16,column:14}}}))?r:""},useData:!0})},"dr/f":function(e,t){var n=document.querySelector("#footer__button");window.onscroll=function(){document.documentElement.scrollTop>document.documentElement.clientHeight?n.classList.remove("is-hidden"):n.classList.add("is-hidden")},n.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.bb30b11ec9a5c3e4e572.js.map